// Wizard/shared/proto/transport.proto

syntax = "proto3";

package wizard.transport;

// The core data structure representing an event generated by the Collector
// and consumed by the Analyzer.
message Event {
  // A unique identifier for this specific event.
  string event_id = 1;

  // The identifier for the user who generated the event. Used for partitioning in Kafka.
  string user_id = 2;

  // Unix timestamp (seconds since epoch) when the event occurred.
  int64 timestamp = 3;

  // The primary action taken by the user (e.g., "login", "view_page", "checkout").
  string action = 4;

  // Flexible key-value data structure for action-specific details (e.g., product_id, query string).
  map<string, string> payload = 5;
}
